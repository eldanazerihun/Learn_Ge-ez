<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Geâ€˜ez Syllabary Interactive</title>
  <style>
    body {
      font-family: "Noto Sans Ethiopic", "Abyssinica SIL", sans-serif;
      background-color: #f4f8fb;
      color: #111;
      padding: 20px;
      transition: background-color 0.3s, color 0.3s;
    }
    h1 {
      text-align: center;
      color: #004080;
    }
    table {
      width: 95%;
      margin: 20px auto;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #bbb;
      padding: 10px;
      text-align: center;
      font-size: 24px;
      transition: background-color 0.3s ease;
      cursor: pointer;
    }
    th {
      background-color: #004080;
      color: white;
    }
    tr:hover {
      background-color: #e0f0ff;
    }
    .popup {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background-color: #004080;
      color: #fff;
      padding: 12px 18px;
      border-radius: 8px;
      font-size: 18px;
      display: none;
      z-index: 1000;
    }
    .toggle-btn {
      margin: 20px auto;
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    button {
      padding: 10px 16px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background-color: #004080;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #0059b3;
    }
    .dark {
      background-color: #121212;
      color: #e0e0e0;
    }
    .dark th {
      background-color: #222;
      color: #fff;
    }
    .dark tr:hover {
      background-color: #333;
    }
  </style>
</head>
<body>

  <h1>Geâ€˜ez / áŒá‹•á‹ Syllabary Chart</h1>

  <div class="toggle-btn">
    <button onclick="toggleDarkMode()">ğŸŒ“ Toggle Dark Mode</button>
    <button onclick="startQuiz()">ğŸ§  Quiz Me!</button>
  </div>

  <table id="geezTable">
    <thead>
      <tr>
        <th></th>
        <th title="Ã¤ as in 'father'">Ã¤</th>
        <th title="u as in 'boot'">u</th>
        <th title="i as in 'machine'">i</th>
        <th title="a as in 'cat'">a</th>
        <th title="Ä“ as in 'they'">Ä“</th>
        <th title="É™ as in 'sofa'">É™</th>
        <th title="o as in 'go'">o</th>
      </tr>
    </thead>
    <tbody>
      <tr><th>h</th><td>áˆ€</td><td>áˆ</td><td>áˆ‚</td><td>áˆƒ</td><td>áˆ„</td><td>áˆ…</td><td>áˆ†</td></tr>
      <tr><th>l</th><td>áˆˆ</td><td>áˆ‰</td><td>áˆŠ</td><td>áˆ‹</td><td>áˆŒ</td><td>áˆ</td><td>áˆ</td></tr>
      <tr><th>á¸¥</th><td>áˆ</td><td>áˆ‘</td><td>áˆ’</td><td>áˆ“</td><td>áˆ”</td><td>áˆ•</td><td>áˆ–</td></tr>
      <tr><th>m</th><td>áˆ˜</td><td>áˆ™</td><td>áˆš</td><td>áˆ›</td><td>áˆœ</td><td>áˆ</td><td>áˆ</td></tr>
      <tr><th>s</th><td>áˆ°</td><td>áˆ±</td><td>áˆ²</td><td>áˆ³</td><td>áˆ´</td><td>áˆµ</td><td>áˆ¶</td></tr>
      <tr><th>Å¡</th><td>áˆ¸</td><td>áˆ¹</td><td>áˆº</td><td>áˆ»</td><td>áˆ¼</td><td>áˆ½</td><td>áˆ¾</td></tr>
      <tr><th>r</th><td>áˆ¨</td><td>áˆ©</td><td>áˆª</td><td>áˆ«</td><td>áˆ¬</td><td>áˆ­</td><td>áˆ®</td></tr>
      <tr><th>q</th><td>á‰€</td><td>á‰</td><td>á‰‚</td><td>á‰ƒ</td><td>á‰„</td><td>á‰…</td><td>á‰†</td></tr>
      <tr><th>b</th><td>á‰ </td><td>á‰¡</td><td>á‰¢</td><td>á‰£</td><td>á‰¤</td><td>á‰¥</td><td>á‰¦</td></tr>
      <tr><th>t</th><td>á‰°</td><td>á‰±</td><td>á‰²</td><td>á‰³</td><td>á‰´</td><td>á‰µ</td><td>á‰¶</td></tr>
      <tr><th>Ä</th><td>á‰¸</td><td>á‰¹</td><td>á‰º</td><td>á‰»</td><td>á‰¼</td><td>á‰½</td><td>á‰¾</td></tr>
      <tr><th>n</th><td>áŠ</td><td>áŠ‘</td><td>áŠ’</td><td>áŠ“</td><td>áŠ”</td><td>áŠ•</td><td>áŠ–</td></tr>
      <tr><th>k</th><td>áŠ¨</td><td>áŠ©</td><td>áŠª</td><td>áŠ«</td><td>áŠ¬</td><td>áŠ­</td><td>áŠ®</td></tr>
      <tr><th>w</th><td>á‹ˆ</td><td>á‹‰</td><td>á‹Š</td><td>á‹‹</td><td>á‹Œ</td><td>á‹</td><td>á‹</td></tr>
      <tr><th>Ê¾</th><td>á‹</td><td>á‹‘</td><td>á‹’</td><td>á‹“</td><td>á‹”</td><td>á‹•</td><td>á‹–</td></tr>
      <tr><th>y</th><td>á‹¨</td><td>á‹©</td><td>á‹ª</td><td>á‹«</td><td>á‹¬</td><td>á‹­</td><td>á‹®</td></tr>
    </tbody>
  </table>

  <div class="popup" id="popup"></div>

  <script>
    const ipaHeaders = ["Ã¤", "u", "i", "a", "Ä“", "É™", "o"];
    const table = document.getElementById("geezTable");
    const popup = document.getElementById("popup");
    const body = document.body;

    table.addEventListener("click", function (event) {
      const cell = event.target;
      const row = cell.parentElement;
      const cellIndex = cell.cellIndex;

      if (cell.tagName === "TD" && cellIndex > 0) {
        const ipa = ipaHeaders[cellIndex - 1];
        const char = cell.innerText;

        popup.innerText = `IPA: [${ipa}] â€” '${char}'`;
        popup.style.display = "block";

        const utter = new SpeechSynthesisUtterance(char);
        utter.lang = "am-ET";
        speechSynthesis.speak(utter);

        setTimeout(() => {
          popup.style.display = "none";
        }, 3000);
      }
    });

    function toggleDarkMode() {
      body.classList.toggle("dark");
    }

    function startQuiz() {
      const allRows = Array.from(table.getElementsByTagName("tr")).slice(1);
      const randomRow = allRows[Math.floor(Math.random() * allRows.length)];
      const cells = Array.from(randomRow.getElementsByTagName("td"));
      const randIndex = Math.floor(Math.random() * cells.length);
      const char = cells[randIndex].innerText;
      const answer = ipaHeaders[randIndex];

      const userGuess = prompt(`What is the IPA vowel for '${char}'? (ex: Ã¤, u, i, a, Ä“, É™, o)`);
      if (userGuess && userGuess.trim().toLowerCase() === answer) {
        alert("âœ… Correct!");
      } else {
        alert(`âŒ Incorrect. The correct answer is [${answer}]`);
      }
    }
  </script>
</body>
</html>
